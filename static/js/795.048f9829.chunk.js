"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[795],{9055:function(n,e,t){t.d(e,{x:function(){return i}});var r=t(6031),o=t(407),i=(0,r.ZP)("div")(o.$_,o.Dh,o.bK,o.GQ,o.Oq,o.Cg,o.FK)},8747:function(n,e,t){t.d(e,{Z:function(){return s}});var r,o=t(168),i=t(6031).ZP.button(r||(r=(0,o.Z)(["\n  padding: ","px;\n  color: ",";\n  background-color: ",";\n  font-family: inherit;\n  font-weight: ",";\n  font-size: ",";\n  cursor: pointer;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.15);\n  border-radius: ",";\n  border-width: 0;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  :hover:not(:disabled), :focus:not(:disabled) {\n    background-color: ",";\n  }\n\n  &:disabled {\n    opacity: 0.4;\n    cursor: initial;\n  }\n  \n  svg {\n    @media screen and (min-width: 768px) {\n      margin-right: ","px;\n      vertical-align: bottom;\n    }\n  }\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.colors.hover}),(function(n){return n.theme.space[2]})),c=t(3329),a=function(n){var e=n.type,t=n.children,r=n.width,o=n.disabled,a=n.onClick;return(0,c.jsx)(i,{type:e,width:r,onClick:a,disabled:o,children:t})};a.defaultProps={disabled:!1,type:"button",children:null,width:null,onClick:function(){return null}};var s=a},8026:function(n,e,t){t.d(e,{II:function(){return f},XZ:function(){return b},Xq:function(){return p},__:function(){return m},tP:function(){return h}});var r,o,i,c,a,s=t(168),u=t(6031),l=t(5705),d=t(3329),h=(0,u.ZP)(l.l0)(r||(r=(0,s.Z)(["\n  display: flex; \n  flex-direction: column;\n  width: ",";\n"])),(function(n){return n.theme.sizes.m})),m=u.ZP.label(o||(o=(0,s.Z)(["\n  margin-bottom: ","px;\n  font-size: ",";\n  color: ",";\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.fontSizes.s}),(function(n){return n.theme.colors.primary})),f=(0,u.ZP)(l.gN)(i||(i=(0,s.Z)(["\n  min-width: ",";\n  padding: ","px;\n  border: ",";\n  border-color: ",";\n  border-radius: ",";\n  outline: none;\n  transition: border-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  :focus {\n  border-color: ",";\n}\n"])),(function(n){return n.theme.sizes.s}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.colors.border}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.colors.accent})),p=function(n){var e=n.name;return(0,d.jsx)(l.Bc,{name:e,render:function(n){return(0,d.jsx)(x,{children:n})}})},x=u.ZP.span(c||(c=(0,s.Z)(["\n  font-size: ",";\n  color: ",";\n"])),(function(n){return n.theme.fontSizes.xs}),(function(n){return n.theme.colors.red})),b=(0,u.ZP)(l.gN)(a||(a=(0,s.Z)(["\n  margin-right: ","px;\n"])),(function(n){return n.theme.space[2]}))},6795:function(n,e,t){t.r(e),t.d(e,{default:function(){return W}});var r=t(885),o=t(2791),i=t(8174),c=t(3061),a=t(9055),s=t(5861),u=t(7757),l=t.n(u),d=t(5705),h=t(3284),m=t(7577),f=t(8026),p=t(8747),x=t(3329);function b(n){var e=n.onCloseModal,t=h.Ry().shape({name:h.Z_().min(2,"Name must be more than 2 characters!").max(30,"Name must be less than 30 characters!").required("The name field is required."),number:h.Z_().min(6,"Phone must be more than 6 characters!").max(13,"Phone must be less than 13 characters!").matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number is not valid.").required("The phone field is required.")}),o=(0,m.Tn)(),c=(0,r.Z)(o,1)[0],a=(0,m.wY)().data,u=void 0===a?[]:a,b=function(){var n=(0,s.Z)(l().mark((function n(e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!u.find((function(n){return n.name===e.name}))){n.next=4;break}return n.abrupt("return",i.Am.error("".concat(e.name," is already in contact")));case 4:return n.next=6,c(e);case 6:i.Am.success("Contact is added"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),i.Am.error("Unable to add contact. Please try again"),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}();return(0,x.jsx)(d.J9,{initialValues:{name:"",number:""},validationSchema:t,onSubmit:function(n,t){var r=t.resetForm;console.log(n),b(n),r(),e()},children:(0,x.jsxs)(f.tP,{children:[(0,x.jsxs)(f.__,{children:["Name",(0,x.jsx)(f.II,{type:"text",name:"name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer."}),(0,x.jsx)(f.Xq,{name:"name"})]}),(0,x.jsxs)(f.__,{children:["Phone",(0,x.jsx)(f.II,{type:"tel",name:"number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}),(0,x.jsx)(f.Xq,{name:"number"})]}),(0,x.jsxs)(f.__,{children:[(0,x.jsx)(f.XZ,{type:"checkbox",name:"favourite"}),"Add to favourite"]}),(0,x.jsx)(p.Z,{type:"submit",children:"Add contact"})]})})}var g,v,j,w,y,Z,k,P,C=t(5048),z=t(8856),_=function(n){return n.contacts.filter},q=t(168),F=t(6031),S=F.ZP.label(g||(g=(0,q.Z)(["\n  margin-bottom: ","px;\n  font-size: ",";\n  color: ",";\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.colors.primary})),I=F.ZP.input(v||(v=(0,q.Z)(["\n  padding: ","px;\n  margin-left: ","px;\n  border: ",";\n  border-color: ",";\n  border-radius: ",";\n  outline: none;\n  transition: border-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  :focus {\n  border-color: ",";\n}\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.colors.border}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.colors.accent})),M=function(){var n=(0,C.v9)(_),e=(0,C.I0)();return(0,x.jsxs)(S,{children:["Find contacts by name",(0,x.jsx)(I,{type:"text",value:n,onChange:function(n){e((0,z.M)(n.target.value))}})]})},A=F.ZP.button(j||(j=(0,q.Z)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  font-family: inherit;\n  font-size: ",";\n  padding: ","px;\n  cursor: pointer;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.15);\n  border-radius: ",";\n  border-width: 0;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  :hover, :focus {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.fontSizes.s}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.colors.hover})),N=(F.ZP.label(w||(w=(0,q.Z)(["\n  position: relative;\n  \n  & input {\n    opacity: 0;\n  }\n  & > svg {\n    position: absolute;\n    top: 0;\n    left: 0;\n    fill: ",";;\n  }\n  & input:checked ~ svg {\n    fill: ",";\n  }\n  & input:hover ~ svg {\n    fill: ",";\n  }\n"])),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.colors.hover})),F.ZP.a(y||(y=(0,q.Z)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  font-family: inherit;\n  font-size: ",";\n  padding: ","px;\n  cursor: pointer;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.15);\n  border-radius: ",";\n  border-width: 0;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  :hover, :focus {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.fontSizes.s}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.colors.green}))),L=F.ZP.div(Z||(Z=(0,q.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n"]))),X=F.ZP.div(k||(k=(0,q.Z)(["\n  position: absolute;\n  top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(1);\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n  padding: ","px;\n  background-color: ",";\n  border-radius: ",";\n"])),(function(n){return n.theme.space[5]}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.radii.normal})),T=F.ZP.button(P||(P=(0,q.Z)(["\n  position: absolute;\n  right: 2px;\n  top: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: ",";\n  color: ",";\n  border-width: 0;\n  cursor: pointer;\n  transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  :hover, :focus {\n   color: ",";\n  }\n\n  svg {\n    fill: currentColor;\n  }\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.hover})),E=t(4164),J=document.querySelector("#modal-root");function U(n){var e=n.onCloseModal,t=n.children;(0,o.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,E.createPortal)((0,x.jsx)(L,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,x.jsxs)(X,{children:[(0,x.jsx)(T,{onClick:e,children:(0,x.jsx)(c.abH,{size:22})}),t]})}),J)}var H=t(1413),O=t(2299),D=t.n(O);function G(n){var e=n.onCloseModal,t=n.id,o=(0,m.wv)(),c=(0,r.Z)(o,1)[0],a=(0,m.W1)(t),u=a.data,b=void 0===u?[]:u,g=a.isLoading,v={name:b.name,number:b.phone},j=h.Ry().shape({name:h.Z_().min(2,"Name must be more than 2 characters!").max(30,"Name must be less than 30 characters!").required("The name field is required."),number:h.Z_().min(6,"Phone must be more than 6 characters!").max(13,"Phone must be less than 13 characters!").matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number is not valid.").required("The phone field is required.")}),w=function(){var n=(0,s.Z)(l().mark((function n(e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c((0,H.Z)({id:t},e));case 3:i.Am.success("Contact is updated"),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),i.Am.error("Unable to update contact. Please try again"),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:g?(0,x.jsx)(D(),{color:"#757575"}):(0,x.jsx)(d.J9,{initialValues:v,validationSchema:j,onSubmit:function(n){w(n),e()},children:(0,x.jsxs)(f.tP,{children:[(0,x.jsxs)(f.__,{children:["Name",(0,x.jsx)(f.II,{type:"text",name:"name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer."}),(0,x.jsx)(f.Xq,{name:"name"})]}),(0,x.jsxs)(f.__,{children:["Phone",(0,x.jsx)(f.II,{type:"tel",name:"number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}),(0,x.jsx)(f.Xq,{name:"number"})]}),(0,x.jsx)(p.Z,{type:"submit",children:"Update contact"})]})})})}var K,Q=function(n){var e=n.contact,t=e.name,u=e.number,d=e.id,h=(e.favourite,(0,o.useState)(!1)),f=(0,r.Z)(h,2),p=f[0],b=f[1],g=function(){b(!p)},v=(0,m.Nt)(),j=(0,r.Z)(v,2),w=j[0],y=j[1].isLoading,Z=function(){var n=(0,s.Z)(l().mark((function n(e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w(e);case 3:i.Am.success("Contact is deleted"),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),i.Am.error("Unable to delete contact. Please try again"),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("p",{children:[t,": ",u]}),(0,x.jsxs)(a.x,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"50%",children:[(0,x.jsxs)(N,{href:"tel:".concat(u),children:[(0,x.jsx)(c.HQO,{size:16}),(0,x.jsx)("span",{children:"Call"})]}),(0,x.jsxs)(A,{type:"button",onClick:function(){return Z(d)},disabled:y,children:[y?(0,x.jsx)(D(),{color:"#FFFFFF",size:16}):(0,x.jsx)(c.hME,{size:16}),"Delete"]})]}),p&&(0,x.jsx)(U,{onCloseModal:g,children:(0,x.jsx)(G,{onCloseModal:g,id:d})})]})},R=F.ZP.li(K||(K=(0,q.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: ","px;\n  padding-bottom: ","px;\n  padding-left: ","px;\n  padding-right: ","px;\n  box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px;\n  :not(:last-child) {\n    margin-bottom: ","px;\n  };\n  "])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[3]})),V=function(){var n=(0,m.wY)(),e=n.data,t=void 0===e?[]:e,r=n.error,i=n.isLoading,c=(0,C.v9)(_),s=(0,o.useMemo)((function(){var n=c.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(n)}))}),[t,c]);return(0,x.jsxs)(x.Fragment,{children:[r&&(0,x.jsx)("p",{children:"Something went wrong. Please try again."}),i?(0,x.jsx)(a.x,{display:"flex",justifyContent:"center",pt:4,children:(0,x.jsx)(D(),{color:"#757575"})}):(0,x.jsx)("ul",{children:s.map((function(n){return(0,x.jsx)(R,{children:(0,x.jsx)(Q,{contact:n})},n.id)}))})]})},W=function(){var n=(0,o.useState)(!1),e=(0,r.Z)(n,2),t=e[0],s=e[1],u=function(){s(!t)};return(0,x.jsxs)(a.x,{width:"l",p:2,as:"div",m:"0 auto",children:[(0,x.jsx)("h1",{children:"Phonebook"}),(0,x.jsxs)(p.Z,{type:"button",onClick:u,children:[(0,x.jsx)(c.M0G,{size:18})," Add Contact"]}),t&&(0,x.jsx)(U,{onCloseModal:u,children:(0,x.jsx)(b,{onCloseModal:u})}),(0,x.jsx)("h2",{children:"Contacts"}),(0,x.jsx)(M,{}),(0,x.jsx)(V,{}),(0,x.jsx)(i.Ix,{autoClose:3e3,pauseOnHover:!0})]})}}}]);
//# sourceMappingURL=795.048f9829.chunk.js.map